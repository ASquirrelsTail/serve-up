{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../CheckIn.svelte",
    "../../Visitor.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Visitor from './Visitor.svelte';\n  import { group } from '../store.js';\n\n  let visitors = [];\n  let errors = [];\n  addVisitor();\n\n  let error = '';\n  let errorMessage;\n\n  let disabled = false;\n\n  function addVisitor() {\n    visitors = [...visitors, {name:'', phone_number: '', email: ''}]\n    errors = [...errors, {}];\n  }\n\n  function checkIn() {\n    disabled = true;\n    visitors = [visitors[0], ...visitors.slice(1).filter(visitor => visitor.name || visitor.email || visitor.phone_number)];\n    fetch('group/', {\n      method: 'POST',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value\n      },\n      body: JSON.stringify({visitors}) // body data type must match \"Content-Type\" header\n    }).then(async response => {\n      if (response.status === 204) $group = true;\n      else {\n        const data = await response.json();\n        error = data.error;\n        errors = data.form_errors;\n        errorMessage.scrollIntoView();\n        disabled = false;\n      }\n    });\n  }\n</script>\n\n<h1>Check In</h1>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Libero earum praesentium tempora fuga ipsam dolor sunt recusandae dicta possimus, animi dolore fugit labore nesciunt veniam vel officia, laboriosam deserunt molestiae!</p>\n<p class=\"error\" class:visible={error} bind:this={errorMessage}>{error}</p>\n{#each visitors as visitor, i (i)}\n  <Visitor bind:name={visitor.name}\n    bind:email={visitor.email}\n    bind:phone_number={visitor.phone_number}\n    errors={errors[i]}\n    {disabled}/>\n{/each}\n<div class=\"buttons\">\n  <button on:click|preventDefault={addVisitor} {disabled}>Add another visitor</button>\n  <button on:click|preventDefault={checkIn} {disabled}>Check In</button>\n</div>\n\n<style>\n  .buttons {\n    display: flex;\n    justify-content: center;\n  }\n\n  .buttons button {\n    min-width: 30%\n  }\n\n  .buttons button:first-child {\n    margin-right: 1em;\n  }\n\n  .error {\n    display: none;\n    font-size: 0.8em;\n    color: red;\n  }\n\n  .error.visible {\n    display: block;\n  }\n</style>",
    "<script>\n  export let name = '';\n  export let phone_number = '';\n  export let email = '';\n  export let errors = {};\n  export let disabled = false;\n\n  function onChange(e) {\n    errors[e.target.id] = false;\n  }\n</script>\n\n<div class=\"visitor\">\n  <form on:submit|preventDefault>\n    <div class=\"input-row\" class:invalid={errors.name}>\n      <label for=\"name\">Name:</label>\n      <input type=\"text\" id=\"name\" bind:value={name} {disabled} on:change={onChange}>\n      <div class=\"error\">{errors.name}</div>\n    </div>\n    <div class=\"input-row\" class:invalid={errors.phone_number}>\n      <label for=\"phone_number\">Tel:</label>\n      <input type=\"text\" id=\"phone_number\" bind:value={phone_number} {disabled} on:change={onChange}>\n      <div class=\"error\">{errors.phone_number}</div>\n    </div>\n    <div class=\"input-row\"  class:invalid={errors.email}>\n      <label for=\"email\">Email:</label>\n      <input type=\"email\" id=\"email\" bind:value={email} {disabled} on:change={onChange}>\n      <div class=\"error\">{errors.email}</div>\n    </div>\n  </form>\n</div>\n\n<style>\n  .visitor {\n    margin: 0.2em;\n    padding: 0.2em;\n    border: 1px solid grey;\n    border-radius: 0.2em;\n  }\n\n  .input-row {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: center;\n    padding-bottom: 0.2em;\n  }\n\n  .input-row:last-child {\n    padding-bottom: 0;\n  }\n\n  label, input {\n    display: block;\n  }\n\n  input {\n    min-width: 75%;\n    font-size: 1.1em;\n  }\n\n  .error {\n    display: none;\n    font-size: 0.8em;\n    text-align: right;\n    color: red;\n  }\n\n  .invalid .error {\n    display: block;\n    width: 100%;\n  }\n\n  .invalid input {\n    border: 1px solid red;\n  }\n</style>"
  ],
  "names": [],
  "mappings": "AA0DE,QAAQ,8BAAC,CAAC,AACR,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,AACzB,CAAC,AAED,uBAAQ,CAAC,MAAM,eAAC,CAAC,AACf,SAAS,CAAE,GAAG;EAChB,CAAC,AAED,uBAAQ,CAAC,qBAAM,YAAY,AAAC,CAAC,AAC3B,YAAY,CAAE,GAAG,AACnB,CAAC,AAED,MAAM,8BAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,KAAK,CAChB,KAAK,CAAE,GAAG,AACZ,CAAC,AAED,MAAM,QAAQ,8BAAC,CAAC,AACd,OAAO,CAAE,KAAK,AAChB,CAAC;AC9CD,QAAQ,8BAAC,CAAC,AACR,MAAM,CAAE,KAAK,CACb,OAAO,CAAE,KAAK,CACd,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,aAAa,CAAE,KAAK,AACtB,CAAC,AAED,UAAU,8BAAC,CAAC,AACV,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,SAAS,CAAE,IAAI,CACf,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,cAAc,CAAE,KAAK,AACvB,CAAC,AAED,wCAAU,WAAW,AAAC,CAAC,AACrB,cAAc,CAAE,CAAC,AACnB,CAAC,AAED,mCAAK,CAAE,KAAK,8BAAC,CAAC,AACZ,OAAO,CAAE,KAAK,AAChB,CAAC,AAED,KAAK,8BAAC,CAAC,AACL,SAAS,CAAE,GAAG,CACd,SAAS,CAAE,KAAK,AAClB,CAAC,AAED,MAAM,8BAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,KAAK,CAChB,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,GAAG,AACZ,CAAC,AAED,uBAAQ,CAAC,MAAM,eAAC,CAAC,AACf,OAAO,CAAE,KAAK,CACd,KAAK,CAAE,IAAI,AACb,CAAC,AAED,uBAAQ,CAAC,KAAK,eAAC,CAAC,AACd,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,GAAG,AACvB,CAAC"
}